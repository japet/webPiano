{"version":3,"file":"inspect.cjs","names":["Object","defineProperty","exports","value","default","inspect","util_js_1","require","zeroWidth","line","start","delimiter","postDelimiter","tag","postTag","name","postName","type","postType","description","end","lineEnd","headers","fields","keys","repr","x","isSpace","length","frame","join","align","width","tokens","map","k","padEnd","source","_a","_b","assign","f","number","Math","max","toString","lines","push","padStart"],"sources":["inspect.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = inspect;\nconst util_js_1 = require(\"../util.js\");\nconst zeroWidth = {\n    line: 0,\n    start: 0,\n    delimiter: 0,\n    postDelimiter: 0,\n    tag: 0,\n    postTag: 0,\n    name: 0,\n    postName: 0,\n    type: 0,\n    postType: 0,\n    description: 0,\n    end: 0,\n    lineEnd: 0,\n};\nconst headers = { lineEnd: 'CR' };\nconst fields = Object.keys(zeroWidth);\nconst repr = (x) => ((0, util_js_1.isSpace)(x) ? `{${x.length}}` : x);\nconst frame = (line) => '|' + line.join('|') + '|';\nconst align = (width, tokens) => Object.keys(tokens).map((k) => repr(tokens[k]).padEnd(width[k]));\nfunction inspect({ source }) {\n    var _a, _b;\n    if (source.length === 0)\n        return '';\n    const width = Object.assign({}, zeroWidth);\n    for (const f of fields)\n        width[f] = ((_a = headers[f]) !== null && _a !== void 0 ? _a : f).length;\n    for (const { number, tokens } of source) {\n        width.line = Math.max(width.line, number.toString().length);\n        for (const k in tokens)\n            width[k] = Math.max(width[k], repr(tokens[k]).length);\n    }\n    const lines = [[], []];\n    for (const f of fields)\n        lines[0].push(((_b = headers[f]) !== null && _b !== void 0 ? _b : f).padEnd(width[f]));\n    for (const f of fields)\n        lines[1].push('-'.padEnd(width[f], '-'));\n    for (const { number, tokens } of source) {\n        const line = number.toString().padStart(width.line);\n        lines.push([line, ...align(width, tokens)]);\n    }\n    return lines.map(frame).join('\\n');\n}\n"],"mappings":"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","ignoreList":[]}